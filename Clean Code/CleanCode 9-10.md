9. Unit Tests

Test Driven Development(TDD) - 테스트를 작성한 후에 그것을 바탕으로 코드를 작성하자
1st Law : 실패하는 테스트를 작성하기 전까지 코드를 작성하지 않는다
2nd Law : 컴파일은 성공하나, 실행 도중 실패하는 테스트를 작성한다 
3rd Law : 실패한 테스트를 성공할 정도로만 코드를 작성한다

테스트는 실제 코드보다 더 읽기 쉬워야 한다. 테스트를 청결하게 유지하는 방법은 다음과 같다
- 테스트 당 개념 (일반적으로는 함수) 하나만 테스트 하라.
- 테스트의 assert 수를 최소한으로 유지하라

테스트는 F.I.R.S.T 조건을 만족해야 한다.
Fast : 테스트는 여러 번 실행되어야 하므로 빠르게 실행되어야 문제를 찾기 편하다
Independent : 서로 다른 테스트는 서로에게 영향을 주어서는 안된다. 실행 순서에 관계 없이 성공/실패를 확인할 수 있어야 한다
Repeatable : 어느 환경에서든지 반복될 수 있어야 한다. 다른 컴퓨터 등에서도 같은 결과를 보여야 한다
Self-Validating : 테스트 성공/실패 여부를 확인하는 boolean 출력이 있어야 하며, 이를 판별하기 위해 유저의 노력이 들어가지 않도록 해야 한다
Timely : 테스트는 언제나 (실제 코드가 테스트에 성공하기) 직전에 만들어져야 한다. 
즉, 테스트 - 코드 - 테스트 - 코드 순서로 서로 연관되는 것은 순서를 맞추어야 한다


10. Classes

캡슐화(Encapsulation)
클래스의 변수와 메서드는 최대한 숨기는 것이 좋지만, 반드시 숨길 필요는 없다.
private를 유지할 방법이 없을 경우 protected, public 등으로 공개를 해주는 선택도 할 수 있으나, 최후의 수단이어야만 한다

클래스는 작아야 한다. 이는 클래스가 하나의 책임만 맡게 하는 것(SRP)으로 실현할 수 있다
클래스의 이름은 해당 클래스가 가진 책임(임무) 를 드러내야 한다. 간결한 이름이 떠오르지 않는다면 그것은 클래스의 책임이 너무 많아서이다.

Single Responsivility Principle(SRP) - 클래스나 모듈을 변경할 이유가 단 하나뿐이어야 한다.
클래스의 책임이 무엇인지 파악하는 방법은 클래스를 변경할 이유를 찾아보는 것으로 쉽게 확인할 수 있다.

응집도 (Cohesion) - 클래스에 속한 변수, 메서드가 서로 의존하며 묶임
클래스는 변수의 개수가 작아야 한다.
각 메서드는 변수를 하나 이상 사용해야 한다.
메서드가 변수를 많이 사용할수록 메서드와 클래스의 응집도가 높다
이전 챕터에서 살펴본 -함수를 작게, 매개변수를 적게- 전략을 따르다 보면 응집도가 낮아질 수 있으므로 클래스를 적절히 분리하는 것이 좋다

클래스는 변경하기 쉬워야 한다. 대부분의 프로그램은 지속적으로 변경을 해주어야 하므로, 변경에 따르는 위험을 낮추도록 설계해야 한다
Open Closed Principle(OCP) - 클래스는 확장에 개방적이어야 하고, 수정에 폐쇄적이어야 한다

Abstract Class 를 이용하여 변경에 대한 위험성을 낮추는 것이 좋다. 인터페이스 구현을 Abstract class에 한 다음, 이것을 상속한 클래스에 코드를 구현하자.
Dependency Inversion Principle(DIP) - 클래스는 상세한 구현이 아닌 추상화에 의존해야 한다.
